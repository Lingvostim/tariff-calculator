<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Ç–∞—Ä–∏—Ñ–æ–≤</title>

<style>
:root{
  --bg1:#0b1020;
  --bg2:#0e1222;
  --card:rgba(255,255,255,.05);
  --line:rgba(255,255,255,.12);
  --text:rgba(255,255,255,.92);
  --muted:rgba(255,255,255,.62);
  --accent:#6b5cff;
  --success:#22c55e;
  --radius:18px;
}

*{box-sizing:border-box}

body{
  margin:0;
  font:15px/1.45 system-ui,-apple-system,Segoe UI,Roboto,Arial;
  color:var(--text);
  background:
    radial-gradient(1200px 800px at 15% 10%, rgba(107,92,255,.22), transparent 55%),
    radial-gradient(900px 700px at 85% 90%, rgba(22,163,74,.16), transparent 60%),
    linear-gradient(180deg,var(--bg1),var(--bg2));
  min-height:100vh;
  padding:24px 14px;
}

.wrap{max-width:980px;margin:0 auto}

h1{margin:0 0 6px;font-size:clamp(22px,3vw,30px)}
.hint{margin:0 0 16px;color:var(--muted);font-size:13px}

.grid{display:grid;gap:16px}
@media(min-width:860px){.grid{grid-template-columns:360px 1fr}}

.card{
  background:linear-gradient(180deg,var(--card),rgba(255,255,255,.03));
  border:1px solid var(--line);
  border-radius:var(--radius);
  overflow:hidden;
  box-shadow:0 18px 60px rgba(0,0,0,.35);
}

.head{
  padding:14px 16px;
  border-bottom:1px solid var(--line);
  background:rgba(255,255,255,.03);
}
.head h2{
  margin:0;
  font-size:13px;
  color:var(--muted);
  text-transform:uppercase;
}

.body{padding:16px}

.row{margin-bottom:12px}
label{font-size:13px;color:var(--muted);display:block;margin-bottom:6px}

.inputWrap{position:relative}

input{
  width:100%;
  padding:12px 52px 12px 12px;
  border-radius:12px;
  background:rgba(255,255,255,.04);
  border:1px solid var(--line);
  color:var(--text);
}

input:focus{
  outline:none;
  border-color:var(--accent);
  box-shadow:0 0 0 3px rgba(107,92,255,.2);
}

/* STEPPER */
.stepper{
  position:absolute;
  right:10px;
  top:50%;
  transform:translateY(-50%);
  display:grid;
  grid-template-rows:1fr 1fr;
  gap:6px;
}

.stepBtn{
  width:32px;
  height:18px;
  border-radius:8px;
  background:rgba(255,255,255,.06);
  border:1px solid var(--line);
  cursor:pointer;
  font-size:11px;
}

/* BUTTONS */
.actions{display:flex;gap:10px;margin-top:10px}

button{
  padding:12px 14px;
  border-radius:14px;
  border:0;
  font-weight:700;
  cursor:pointer;
}

.primary{
  background:linear-gradient(135deg,var(--accent),#5a48ff);
  color:white;
}

.secondary{
  background:rgba(255,255,255,.08);
  border:1px solid var(--line);
  color:white;
}

/* SUMMARY */
.summary{
  display:flex;
  gap:8px;
  flex-wrap:wrap;
  margin-bottom:14px;
}

.pill{
  padding:8px 12px;
  border-radius:999px;
  border:1px solid var(--line);
  background:rgba(255,255,255,.06);
  font-size:13px;
}

/* üíö animated total highlight */
.pill.total{
  animation:pop .35s ease;
}

@keyframes pop{
  0%{transform:scale(.92);opacity:.6}
  100%{transform:scale(1);opacity:1}
}

.pill.total b{
  color:var(--success);
  font-size:16px;
}

/* TABLE */
.tableWrap{
  overflow:auto;
  border-radius:14px;
  border:1px solid var(--line);
  transition:opacity .2s ease;
}

table{width:100%;border-collapse:collapse}
thead th{
  padding:12px;
  font-size:12px;
  color:var(--muted);
  text-align:left;
}

tbody td{
  padding:12px;
  border-top:1px solid rgba(255,255,255,.08);
}

td.right{text-align:right}

/* ‚ú® stagger animation */
tbody tr{
  opacity:0;
  transform:translateY(6px);
  animation:rowIn .35s ease forwards;
}

@keyframes rowIn{
  to{opacity:1;transform:none}
}

/* mobile */
.mobileList{display:none}
@media(max-width:640px){
  .tableWrap{display:none}
  .mobileList{display:grid;gap:10px}
  .mobileCard{
    display:flex;
    justify-content:space-between;
    padding:14px 16px;
    border-radius:14px;
    border:1px solid var(--line);
    background:rgba(255,255,255,.06);
    animation:rowIn .35s ease forwards;
  }
}
</style>
</head>

<body>
<div class="wrap">

<h1>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Ç–∞—Ä–∏—Ñ–æ–≤</h1>
<p class="hint">–ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–π —Ä–∞—Å—á—ë—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏</p>

<div class="grid">

<section class="card">
<div class="head"><h2>–ü–∞—Ä–∞–º–µ—Ç—Ä—ã</h2></div>
<div class="body">

<div class="row">
<label>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–µ—Å—Ç (max)</label>
<div class="inputWrap" data-stepper>
<input id="places" type="number" value="12" min="1">
<div class="stepper">
<button class="stepBtn" data-step="up">‚ñ≤</button>
<button class="stepBtn" data-step="down">‚ñº</button>
</div>
</div>
</div>

<div class="row">
<label>–¶–µ–Ω–∞ –∑–∞ —á–µ–ª–æ–≤–µ–∫–∞ ‚ÇΩ</label>
<div class="inputWrap" data-stepper>
<input id="price" type="number" value="680" min="0">
<div class="stepper">
<button class="stepBtn" data-step="up">‚ñ≤</button>
<button class="stepBtn" data-step="down">‚ñº</button>
</div>
</div>
</div>

<div class="row">
<label>–ú–∏–Ω–∏–º—É–º –≥–æ—Å—Ç–µ–π</label>
<div class="inputWrap" data-stepper>
<input id="minPeople" type="number" value="3" min="1">
<div class="stepper">
<button class="stepBtn" data-step="up">‚ñ≤</button>
<button class="stepBtn" data-step="down">‚ñº</button>
</div>
</div>
</div>

<div class="actions">
<button class="primary" id="calc">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
<button class="secondary" id="reset">–°–±—Ä–æ—Å</button>
</div>

</div>
</section>

<section class="card">
<div class="head"><h2>–†–µ–∑—É–ª—å—Ç–∞—Ç</h2></div>
<div class="body">

<div class="summary">
<div class="pill">–ú–µ—Å—Ç: <b id="sPlaces">‚Äî</b></div>
<div class="pill">–¶–µ–Ω–∞: <b id="sPrice">‚Äî</b></div>
<div class="pill total">–ò—Ç–æ–≥–æ: <b id="sTotal">‚Äî</b></div>
</div>

<div class="tableWrap">
<table>
<thead><tr><th>–ß–µ–ª.</th><th class="right">–ò—Ç–æ–≥–æ ‚ÇΩ</th></tr></thead>
<tbody id="tbody"></tbody>
</table>
</div>

<div class="mobileList" id="mobileList"></div>

</div>
</section>

</div>
</div>

<script>
const el=id=>document.getElementById(id)
const fmt=new Intl.NumberFormat("ru-RU")

/* number animation */
function animateNumber(node, to){
  const from=0
  const duration=450
  const start=performance.now()

  function frame(t){
    const p=Math.min((t-start)/duration,1)
    const value=Math.floor(from+(to-from)*p)
    node.textContent=fmt.format(value)+" ‚ÇΩ"
    if(p<1)requestAnimationFrame(frame)
  }
  requestAnimationFrame(frame)
}

function calculate(){
  const max=+el("places").value
  const price=+el("price").value
  const min=+el("minPeople").value
  if(min>max)return

  const tbody=el("tbody")
  const mobile=el("mobileList")

  tbody.innerHTML=""
  mobile.innerHTML=""

  for(let n=min;n<=max;n++){
    const total=n*price

    const tr=document.createElement("tr")
    tr.style.animationDelay=(n-min)*.03+"s"
    tr.innerHTML=`<td>${n}</td><td class="right">${fmt.format(total)}</td>`
    tbody.appendChild(tr)

    const card=document.createElement("div")
    card.className="mobileCard"
    card.style.animationDelay=(n-min)*.03+"s"
    card.innerHTML=`<span>${n} —á–µ–ª.</span><b>${fmt.format(total)} ‚ÇΩ</b>`
    mobile.appendChild(card)
  }

  el("sPlaces").textContent=max
  el("sPrice").textContent=fmt.format(price)+" ‚ÇΩ"

  animateNumber(el("sTotal"), max*price)
}

el("calc").onclick=calculate
el("reset").onclick=()=>{places.value=12;price.value=680;minPeople.value=3;calculate()}
;[places,price,minPeople].forEach(i=>i.addEventListener("input",calculate))

calculate()
</script>
</body>
</html>
